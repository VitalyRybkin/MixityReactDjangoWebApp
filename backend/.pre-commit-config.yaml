# Only run hooks for these folders:
files: &target_py '^backend/(logistic)/.*\.py$'

repos:
  - repo: https://github.com/psf/black
    rev: 26.1.0
    hooks:
      - id: black
        files: *target_py

  - repo: https://github.com/pycqa/isort
    rev: 7.0.0
    hooks:
      - id: isort
        files: *target_py
        exclude: ^.*/migrations/

  - repo: https://github.com/PyCQA/flake8
    rev: 7.3.0
    hooks:
      - id: flake8
        files: *target_py
        args:
          [
            "--max-line-length=88",
            "--extend-ignore=E203,W503,E501",
            "--exclude=.venv,venv,env,__pycache__,**/migrations/*",
          ]

  - repo: local
    hooks:
      - id: mypy
        name: mypy (uv)
        entry: backend/.venv/bin/python -m mypy --config-file=backend/pyproject.toml backend/catalog backend/logistic
        language: system
        pass_filenames: false
